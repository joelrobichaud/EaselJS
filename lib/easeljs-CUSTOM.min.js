/*
* EaselJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2011 gskinner.com, inc.
* 
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
*/
this.createjs=this.createjs||{};
(function(){function c(a,h){return h.priority-a.priority}var b=function(){this.initialize()},a=b.prototype={};a._handlers=null;a.initialize=function(){this._handlers={}};a.addEventListener=function(a,h,b,e){h={handler:h,context:b||null,priority:void 0!==e?e:1};this.hasEventListener(a)?this._handlers[a].push(h):this._handlers[a]=[h]};a.removeEventListener=function(a,h){var b=this._handlers[a];if(0===b.length)delete b;else for(var e=0;e<b.length;e++)b[e].handler===h&&b.splice(e,1)};a.removeAllListeners=
function(a){a?delete this._handlers[a]:this._handlers={}};a.hasEventListener=function(a){return!!this._handlers[a]};a.dispatchEvent=function(a){var h=(this._handlers[a.type]||[]).concat(this._handlers[Event.ALL]||[]);h.sort(c);for(var b=0;b<h.length;b++)a.target=this,h[b].handler.call(h[b].context,a)};createjs.EventDispatcher=b})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},b=c.prototype=new createjs.EventDispatcher;b.target=null;b.type=null;c.ALL="all";c.ADDED_TO_STAGE="addedToStage";c.REMOVED_FROM_STAGE="removedFromStage";c.ENTER_FRAME="enterFrame";c.EXIT_FRAME="exitFrame";b.EventDispatcher_initialize=b.initialize;b.initialize=function(a){this.EventDispatcher_initialize();this.type=a};b.clone=function(){return new createjs.Event(this.type)};b.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=
c})();this.createjs=this.createjs||{};(function(){var c=function(a,j){this.initialize(a,j)},b=c.prototype=new createjs.Event;b.nativeEvent=null;b.Event_initialize=b.initialize;b.initialize=function(a,j){this.Event_initialize(a);this.nativeEvent=j};b.clone=function(){return new createjs.NativeEvent(this.type)};b.toString=function(){return"[NativeEvent (type="+this.type+")]"};createjs.NativeEvent=c})();this.createjs=this.createjs||{};(function(){var c=function(a){this.initialize(a)},b=c.prototype=new createjs.Event;c.TIMER="timer";c.TIMER_COMPLETE="timerComplete";b.Event_initialize=b.initialize;b.initialize=function(a){this.Event_initialize(a)};b.clone=function(){return new createjs.TimerEvent(this.type)};b.toString=function(){return"[TimerEvent (type="+this.type+")]"};createjs.TimerEvent=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,j,h,b,e,c){this.initialize(a,j,h,b,e,c)},b=c.prototype=new createjs.NativeEvent;b.stageX=0;b.stageY=0;b.pointerID=0;b.primary=!1;b.delta=0;c.CLICK="click";c.DOUBLE_CLICK="doubleClick";c.MOUSE_DOWN="mouseDown";c.MOUSE_UP="mouseUp";c.MOUSE_MOVE="mouseMove";c.ROLL_OVER="rollOver";c.ROLL_OUT="rollOut";c.MOUSE_WHEEL="mouseWheel";b.NativeEvent_initialize=b.initialize;b.initialize=function(a,j,h,b,e,f){this.NativeEvent_initialize(a,b);this.stageX=j;this.stageY=h;this.pointerID=
e;this.primary=f;a===c.MOUSE_WHEEL&&(this.delta=b.wheelDelta/120||-b.detail/3)};b.clone=function(){return new createjs.MouseEvent(this.type,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary)};b.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"};createjs.MouseEvent=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,j,h,b,e,c,g){this.initialize(a,j,h,b,e,c,g)},b=c.prototype=new createjs.NativeEvent;b.keyCode=0;b.charCode=0;b.altKey=!1;b.ctrlKey=!1;b.shiftKey=!1;c.KEY_DOWN="keyDown";c.KEY_UP="keyUp";b.NativeEvent_initialize=b.initialize;b.initialize=function(a,j,h,b,e,c,g){this.NativeEvent_initialize(a,g);this.keyCode=j;this.charCode=h;this.ctrlKey=b;this.altKey=e;this.shiftKey=c};b.clone=function(){return new createjs.KeyboardEvent(this.type,this.keyCode,this.charCode,this.ctrlKey,
this.altKey,this.shiftKey)};b.toString=function(){return"[KeyboardEvent (type="+this.type+" keyCode="+this.keyCode+")]"};createjs.KeyboardEvent=c})();this.createjs=this.createjs||{};(function(){var c=function(){throw"UID cannot be instantiated";};c._nextID=0;c.get=function(){return c._nextID++};createjs.UID=c})();this.createjs=this.createjs||{};
(function(){var c=function(){throw"Ticker cannot be instantiated.";};c.useRAF=null;c._listeners=null;c._pauseable=null;c._paused=!1;c._inited=!1;c._startTime=0;c._pausedTime=0;c._ticks=0;c._pausedTicks=0;c._interval=50;c._lastTime=0;c._times=null;c._tickTimes=null;c._rafActive=!1;c._timeoutID=null;c.addListener=function(a,j){null!=a&&(c._inited||c.init(),c.removeListener(a),c._pauseable[c._listeners.length]=null==j?!0:j,c._listeners.push(a))};c.init=function(){c._inited=!0;c._times=[];c._tickTimes=
[];c._pauseable=[];c._listeners=[];c._times.push(c._lastTime=c._startTime=c._getTime());c.setInterval(c._interval)};c.removeListener=function(a){var j=c._listeners;j&&(a=j.indexOf(a),-1!=a&&(j.splice(a,1),c._pauseable.splice(a,1)))};c.removeAllListeners=function(){c._listeners=[];c._pauseable=[]};c.setInterval=function(a){c._interval=a;c._inited&&c._setupTick()};c.getInterval=function(){return c._interval};c.setFPS=function(a){c.setInterval(1E3/a)};c.getFPS=function(){return 1E3/c._interval};c.getMeasuredFPS=
function(a){if(2>c._times.length)return-1;null==a&&(a=c.getFPS()|0);a=Math.min(c._times.length-1,a);return 1E3/((c._times[0]-c._times[a])/a)};c.setPaused=function(a){c._paused=a};c.getPaused=function(){return c._paused};c.getTime=function(a){return c._getTime()-c._startTime-(a?c._pausedTime:0)};c.getTicks=function(a){return c._ticks-(a?c._pausedTicks:0)};c._handleAF=function(){c._rafActive=!1;c._setupTick();c._getTime()-c._lastTime>=0.97*(c._interval-1)&&c._tick()};c._handleTimeout=function(){c.timeoutID=
null;c._setupTick();c._tick()};c._setupTick=function(){if(!(c._rafActive||null!=c.timeoutID)){if(c.useRAF){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(a){a(c._handleAF);c._rafActive=!0;return}}c.timeoutID=setTimeout(c._handleTimeout,c._interval)}};c._tick=function(){var a=c._getTime();c._ticks++;var j=a-c._lastTime,h=c._paused;h&&(c._pausedTicks++,c._pausedTime+=j);c._lastTime=
a;for(var b=c._pauseable,e=c._listeners.slice(),f=e?e.length:0,g=0;g<f;g++){var k=e[g];null==k||h&&b[g]||(k.tick?k.tick(j,h):k instanceof Function&&k(j,h))}for(c._tickTimes.unshift(c._getTime()-a);100<c._tickTimes.length;)c._tickTimes.pop();for(c._times.unshift(a);100<c._times.length;)c._times.pop()};var b=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);c._getTime=function(){return b&&b.call(performance)||(new Date).getTime()};
createjs.Ticker=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,b){this.initialize(a,b)},b=c.prototype=new createjs.EventDispatcher,a=createjs.Ticker;b.delay=null;b.repeatCount=0;b.currentCount=0;b.running=!1;b._startTime=null;c._timers=[];b.EventDispatcher_initialize=b.initialize;b.initialize=function(a,b){this.EventDispatcher_initialize();this.delay=a;this.repeatCount=b||0;c._timers.push(this)};b.reset=function(){this.stop();this.currentCount=0};b.start=function(){if(!this.running&&(this.currentCount!==this.repeatCount||0===this.repeatCount))this._startTime=
a.getTime(),this.running=!0};b.stop=function(){this.running&&(this.running=!1)};b.tick=function(){if(this.running){var j=Math.floor((a.getTime()-this._startTime)/this.delay);j!==this.currentCount&&(this.currentCount=j,this.currentCount===this.repeatCount&&0!==this.repeatCount&&(this.stop(),this.hasEventListener("timerComplete")&&this.dispatchEvent(new createjs.TimerEvent("timerComplete"))),this.hasEventListener("timer")&&this.dispatchEvent(new createjs.TimerEvent("timer")))}};c.tick=function(){for(var a=
0;a<c._timers.length;a++)c._timers[a].tick()};a.addListener(c);createjs.Timer=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,j,b,d,e,c){this.initialize(a,j,b,d,e,c)},b=c.prototype;c.identity=null;c.DEG_TO_RAD=Math.PI/180;b.a=1;b.b=0;b.c=0;b.d=1;b.tx=0;b.ty=0;b.alpha=1;b.shadow=null;b.compositeOperation=null;b.initialize=function(a,j,b,d,e,c){null!=a&&(this.a=a);this.b=j||0;this.c=b||0;null!=d&&(this.d=d);this.tx=e||0;this.ty=c||0;return this};b.prepend=function(a,j,b,d,e,c){var g=this.tx;if(1!=a||0!=j||0!=b||1!=d){var k=this.a,l=this.c;this.a=k*a+this.b*b;this.b=k*j+this.b*d;this.c=l*a+this.d*
b;this.d=l*j+this.d*d}this.tx=g*a+this.ty*b+e;this.ty=g*j+this.ty*d+c;return this};b.append=function(a,j,b,d,e,c){var g=this.a,k=this.b,l=this.c,i=this.d;this.a=a*g+j*l;this.b=a*k+j*i;this.c=b*g+d*l;this.d=b*k+d*i;this.tx=e*g+c*l+this.tx;this.ty=e*k+c*i+this.ty;return this};b.prependMatrix=function(a){this.prepend(a.a,a.b,a.c,a.d,a.tx,a.ty);this.prependProperties(a.alpha,a.shadow,a.compositeOperation);return this};b.appendMatrix=function(a){this.append(a.a,a.b,a.c,a.d,a.tx,a.ty);this.appendProperties(a.alpha,
a.shadow,a.compositeOperation);return this};b.prependTransform=function(a,j,b,d,e,f,g,k,l){if(e%360)var i=e*c.DEG_TO_RAD,e=Math.cos(i),i=Math.sin(i);else e=1,i=0;if(k||l)this.tx-=k,this.ty-=l;f||g?(f*=c.DEG_TO_RAD,g*=c.DEG_TO_RAD,this.prepend(e*b,i*b,-i*d,e*d,0,0),this.prepend(Math.cos(g),Math.sin(g),-Math.sin(f),Math.cos(f),a,j)):this.prepend(e*b,i*b,-i*d,e*d,a,j);return this};b.appendTransform=function(a,j,b,d,e,f,g,k,l){if(e%360)var i=e*c.DEG_TO_RAD,e=Math.cos(i),i=Math.sin(i);else e=1,i=0;f||
g?(f*=c.DEG_TO_RAD,g*=c.DEG_TO_RAD,this.append(Math.cos(g),Math.sin(g),-Math.sin(f),Math.cos(f),a,j),this.append(e*b,i*b,-i*d,e*d,0,0)):this.append(e*b,i*b,-i*d,e*d,a,j);if(k||l)this.tx-=k*this.a+l*this.c,this.ty-=k*this.b+l*this.d;return this};b.rotate=function(a){var j=Math.cos(a),a=Math.sin(a),b=this.a,d=this.c,e=this.tx;this.a=b*j-this.b*a;this.b=b*a+this.b*j;this.c=d*j-this.d*a;this.d=d*a+this.d*j;this.tx=e*j-this.ty*a;this.ty=e*a+this.ty*j;return this};b.skew=function(a,j){a*=c.DEG_TO_RAD;j*=
c.DEG_TO_RAD;this.append(Math.cos(j),Math.sin(j),-Math.sin(a),Math.cos(a),0,0);return this};b.scale=function(a,j){this.a*=a;this.d*=j;this.tx*=a;this.ty*=j;return this};b.translate=function(a,j){this.tx+=a;this.ty+=j;return this};b.identity=function(){this.alpha=this.a=this.d=1;this.b=this.c=this.tx=this.ty=0;this.shadow=this.compositeOperation=null;return this};b.invert=function(){var a=this.a,j=this.b,b=this.c,d=this.d,e=this.tx,c=a*d-j*b;this.a=d/c;this.b=-j/c;this.c=-b/c;this.d=a/c;this.tx=(b*
this.ty-d*e)/c;this.ty=-(a*this.ty-j*e)/c;return this};b.isIdentity=function(){return 0==this.tx&&0==this.ty&&1==this.a&&0==this.b&&0==this.c&&1==this.d};b.decompose=function(a){null==a&&(a={});a.x=this.tx;a.y=this.ty;a.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);a.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var j=Math.atan2(-this.c,this.d),b=Math.atan2(this.b,this.a);j==b?(a.rotation=b/c.DEG_TO_RAD,0>this.a&&0<=this.d&&(a.rotation+=0>=a.rotation?180:-180),a.skewX=a.skewY=0):(a.skewX=j/c.DEG_TO_RAD,
a.skewY=b/c.DEG_TO_RAD);return a};b.reinitialize=function(a,j,b,d,c,f,g,k,l){this.initialize(a,j,b,d,c,f);this.alpha=g||1;this.shadow=k;this.compositeOperation=l;return this};b.appendProperties=function(a,j,b){this.alpha*=a;this.shadow=j||this.shadow;this.compositeOperation=b||this.compositeOperation;return this};b.prependProperties=function(a,j,b){this.alpha*=a;this.shadow=this.shadow||j;this.compositeOperation=this.compositeOperation||b;return this};b.clone=function(){var a=new createjs.Matrix2D(this.a,
this.b,this.c,this.d,this.tx,this.ty);a.shadow=this.shadow;a.alpha=this.alpha;a.compositeOperation=this.compositeOperation;return a};b.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};c.identity=new c(1,0,0,1,0,0);createjs.Matrix2D=c})();this.createjs=this.createjs||{};(function(){var c=function(a,j){this.initialize(a,j)},b=c.prototype;b.x=0;b.y=0;b.initialize=function(a,j){this.x=null==a?0:a;this.y=null==j?0:j};b.clone=function(){return new createjs.Point(this.x,this.y)};b.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};createjs.Point=c})();this.createjs=this.createjs||{};(function(){var c=function(a,j,b,d){this.initialize(a,j,b,d)},b=c.prototype;b.x=0;b.y=0;b.width=0;b.height=0;b.initialize=function(a,j,b,d){this.x=null==a?0:a;this.y=null==j?0:j;this.width=null==b?0:b;this.height=null==d?0:d};b.clone=function(){return new createjs.Rectangle(this.x,this.y,this.width,this.height)};b.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"};createjs.Rectangle=c})();this.createjs=this.createjs||{};(function(){var c=function(a,j,b,d){this.initialize(a,j,b,d)},b=c.prototype;c.identity=null;b.color=null;b.offsetX=0;b.offsetY=0;b.blur=0;b.initialize=function(a,j,b,d){this.color=a;this.offsetX=j;this.offsetY=b;this.blur=d};b.toString=function(){return"[Shadow]"};b.clone=function(){return new createjs.Shadow(this.color,this.offsetX,this.offsetY,this.blur)};c.identity=new c("transparent",0,0,0);createjs.Shadow=c})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},b=c.prototype;b.complete=!0;b.onComplete=null;b._animations=null;b._frames=null;b._images=null;b._data=null;b._loadCount=0;b._frameHeight=0;b._frameWidth=0;b._numFrames=0;b._regX=0;b._regY=0;b.initialize=function(a){var j,b,d;if(null!=a){if(a.images&&0<(b=a.images.length)){d=this._images=[];for(j=0;j<b;j++){var c=a.images[j];if("string"==typeof c){var f=c,c=new Image;c.src=f}d.push(c);!c.getContext&&!c.complete&&(this._loadCount++,this.complete=!1,
function(a){c.onload=function(){a._handleImageLoad()}}(this))}}if(null!=a.frames)if(a.frames instanceof Array){this._frames=[];d=a.frames;j=0;for(b=d.length;j<b;j++)f=d[j],this._frames.push({image:this._images[f[4]?f[4]:0],rect:new createjs.Rectangle(f[0],f[1],f[2],f[3]),regX:f[5]||0,regY:f[6]||0})}else b=a.frames,this._frameWidth=b.width,this._frameHeight=b.height,this._regX=b.regX||0,this._regY=b.regY||0,this._numFrames=b.count,0==this._loadCount&&this._calculateFrames();if(null!=(b=a.animations)){this._animations=
[];this._data={};for(var g in b){a={name:g};f=b[g];if(isNaN(f))if(f instanceof Array){a.frequency=f[3];a.next=f[2];d=a.frames=[];for(j=f[0];j<=f[1];j++)d.push(j)}else a.frequency=f.frequency,a.next=f.next,j=f.frames,d=a.frames=!isNaN(j)?[j]:j.slice(0);else d=a.frames=[f];a.next=2>d.length||!1==a.next?null:null==a.next||!0==a.next?g:a.next;a.frequency||(a.frequency=1);this._animations.push(g);this._data[g]=a}}}};b.getNumFrames=function(a){if(null==a)return this._frames?this._frames.length:this._numFrames;
a=this._data[a];return null==a?0:a.frames.length};b.getAnimations=function(){return this._animations.slice(0)};b.getAnimation=function(a){return this._data[a]};b.getFrame=function(a){return this.complete&&this._frames&&(frame=this._frames[a])?frame:null};b.toString=function(){return"[SpriteSheet]"};b.clone=function(){var a=new createjs.SpriteSheet;a.complete=this.complete;a._animations=this._animations;a._frames=this._frames;a._images=this._images;a._data=this._data;a._frameHeight=this._frameHeight;
a._frameWidth=this._frameWidth;a._numFrames=this._numFrames;a._loadCount=this._loadCount;return a};b._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.onComplete&&this.onComplete())};b._calculateFrames=function(){if(!(this._frames||0==this._frameWidth)){this._frames=[];for(var a=0,j=this._frameWidth,b=this._frameHeight,d=0,c=this._images;d<c.length;d++){for(var f=c[d],g=(f.width+1)/j|0,k=(f.height+1)/b|0,k=0<this._numFrames?Math.min(this._numFrames-a,
g*k):g*k,l=0;l<k;l++)this._frames.push({image:f,rect:new createjs.Rectangle(l%g*j,(l/g|0)*b,j,b),regX:this._regX,regY:this._regY});a+=k}this._numFrames=a}};createjs.SpriteSheet=c})();this.createjs=this.createjs||{};
(function(){function c(a,b,d){this.f=a;this.params=b;this.path=null==d?!0:d}c.prototype.exec=function(a){this.f.apply(a,this.params)};var b=function(){this.initialize()},a=b.prototype;b.getRGB=function(a,b,d,c){null!=a&&null==d&&(c=b,d=a&255,b=a>>8&255,a=a>>16&255);return null==c?"rgb("+a+","+b+","+d+")":"rgba("+a+","+b+","+d+","+c+")"};b.getHSL=function(a,b,d,c){return null==c?"hsl("+a%360+","+b+"%,"+d+"%)":"hsla("+a%360+","+b+"%,"+d+"%,"+c+")"};b.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,
K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,"0":52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63};b.STROKE_CAPS_MAP=["butt","round","square"];b.STROKE_JOINTS_MAP=["miter","round","bevel"];b._ctx=document.createElement("canvas").getContext("2d");b.beginCmd=new c(b._ctx.beginPath,[],!1);b.fillCmd=new c(b._ctx.fill,[],!1);b.strokeCmd=
new c(b._ctx.stroke,[],!1);a._strokeInstructions=null;a._strokeStyleInstructions=null;a._fillInstructions=null;a._instructions=null;a._oldInstructions=null;a._activeInstructions=null;a._drawnShapes=null;a._drawingPosition=null;a._initialDrawingPosition=null;a._active=!1;a._dirty=!1;a.initialize=function(){this.clear();this._ctx=b._ctx};a.draw=function(a){this._dirty&&this._updateInstructions();for(var b=this._instructions,d=0,c=b.length;d<c;d++)b[d].exec(a)};a.drawAsPath=function(a){this._dirty&&
this._updateInstructions();for(var b,d=this._instructions,c=0,f=d.length;c<f;c++)((b=d[c]).path||0==c)&&b.exec(a)};a.moveTo=function(a,b){this._setDrawingPosition(a,b);this._activeInstructions.push(new c(this._ctx.moveTo,[a,b]));return this};a.lineTo=function(a,b){if(null!=this._drawingPosition){var d=this._drawingPosition.x,e=this._drawingPosition.y,f=Math.min(d,a),g=Math.min(e,b),d=Math.max(d,a),e=Math.max(e,b);this._drawnShapes.push(new createjs.Rectangle(f,g,d-f,e-g))}this._setDrawingPosition(a,
b);this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.lineTo,[a,b]));return this};a.arcTo=function(a,b,d,e,f){this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.arcTo,[a,b,d,e,f]));return this};a.arc=function(a,b,d,e,f,g){null==g&&(g=!1);var k=new createjs.Point(a+d*Math.cos(e),b+d*Math.sin(e)),l=new createjs.Point(a+d*Math.cos(f),b+d*Math.sin(f));if(g)var i=l,l=k,k=i;var i=Math.min(k.x,l.x),m=Math.min(k.y,l.y),n=Math.max(k.x,l.x),o=Math.max(k.y,l.y),
k=n-i,n=o-m,o=Math.round(k),q=Math.round(n);oy=0;0==o&&0==q?(k=n=2*d,i-=2*d,m-=d):0==o?k=d:0==q&&(n=d);this._drawnShapes.push(new createjs.Rectangle(i,m,k,n));this._setDrawingPosition(l.x,l.y);this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.arc,[a,b,d,e,f,g]));return this};a.quadraticCurveTo=function(a,b,d,e){if(null!=this._drawingPosition){for(var f=this._drawingPosition.x,g=this._drawingPosition.y,k=[new createjs.Point(f,g),new createjs.Point(d,e)],l=this._computeBezierCubicBaseValue,
i=this._computeBezierQuadraticDerivative,m=[i(f,a,d),i(g,b,e)],i=0;i<m.length;i++)isFinite(m[i])&&(0<=m[i]&&1>=m[i])&&k.push(new createjs.Point(l(m[i],f,a,d),l(m[i],g,b,e)));f=maxX=k[0].x;g=maxY=k[0].y;for(i=1;i<k.length;i++)if(k[i].x>maxX&&(maxX=k[i].x),k[i].y>maxY&&(maxY=k[i].y),k[i].x<f&&(f=k[i].x),k[i].y<g)g=k[i].y;this._drawnShapes.push(new createjs.Rectangle(f,g,maxX-f,maxY-g))}this._setDrawingPosition(d,e);this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.quadraticCurveTo,
[a,b,d,e]));return this};a.bezierCurveTo=function(a,b,d,e,f,g){if(null!=this._drawingPosition){for(var k=this._drawingPosition.x,l=this._drawingPosition.y,i=[new createjs.Point(k,l),new createjs.Point(f,g)],m=this._computeBezierCubicBaseValue,n=this._computeBezierCubicDerivative,o=n(k,a,d,f).concat(n(l,b,e,g)),n=0;n<o.length;n++)isFinite(o[n])&&(0<=o[n]&&1>=o[n])&&i.push(new createjs.Point(m(o[n],k,a,d,f),m(o[n],l,b,e,g)));k=maxX=i[0].x;l=maxY=i[0].y;for(n=1;n<i.length;n++)if(i[n].x>maxX&&(maxX=i[n].x),
i[n].y>maxY&&(maxY=i[n].y),i[n].x<k&&(k=i[n].x),i[n].y<l)l=i[n].y;this._drawnShapes.push(new createjs.Rectangle(k,l,maxX-k,maxY-l))}this._setDrawingPosition(f,g);this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.bezierCurveTo,[a,b,d,e,f,g]));return this};a.rect=function(a,b,d,e){this._drawnShapes.push(new createjs.Rectangle(a,b,d,e));this._setDrawingPosition(a,b);this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.rect,[a,b,d,e]));return this};a.closePath=
function(){this._active&&(this._dirty=!0,this._setDrawingPosition(this._initialDrawingPosition.x,this._initialDrawingPosition.y),this._activeInstructions.push(new c(this._ctx.closePath,[])));return this};a.clear=function(){this._drawnShapes=[];this._instructions=[];this._oldInstructions=[];this._activeInstructions=[];this._strokeStyleInstructions=this._strokeInstructions=this._fillInstructions=this._drawingPosition=this._initialDrawingPosition=null;this._active=this._dirty=!1;return this};a.beginFill=
function(a){this._active&&this._newPath();this._fillInstructions=a?[new c(this._setProp,["fillStyle",a],!1)]:null;return this};a.beginLinearGradientFill=function(a,b,d,e,f,g){this._active&&this._newPath();d=this._ctx.createLinearGradient(d,e,f,g);e=0;for(f=a.length;e<f;e++)d.addColorStop(b[e],a[e]);this._fillInstructions=[new c(this._setProp,["fillStyle",d],!1)];return this};a.beginRadialGradientFill=function(a,b,d,e,f,g,k,l){this._active&&this._newPath();d=this._ctx.createRadialGradient(d,e,f,g,
k,l);e=0;for(f=a.length;e<f;e++)d.addColorStop(b[e],a[e]);this._fillInstructions=[new c(this._setProp,["fillStyle",d],!1)];return this};a.beginBitmapFill=function(a,b){this._active&&this._newPath();var d=this._ctx.createPattern(a,b||"");this._fillInstructions=[new c(this._setProp,["fillStyle",d],!1)];return this};a.endFill=function(){return this.beginFill()};a.setStrokeStyle=function(a,h,d,e){this._active&&this._newPath();this._strokeStyleInstructions=[new c(this._setProp,["lineWidth",null==a?"1":
a],!1),new c(this._setProp,["lineCap",null==h?"butt":isNaN(h)?h:b.STROKE_CAPS_MAP[h]],!1),new c(this._setProp,["lineJoin",null==d?"miter":isNaN(d)?d:b.STROKE_JOINTS_MAP[d]],!1),new c(this._setProp,["miterLimit",null==e?"10":e],!1)];return this};a.beginStroke=function(a){this._active&&this._newPath();this._strokeInstructions=a?[new c(this._setProp,["strokeStyle",a],!1)]:null;return this};a.beginLinearGradientStroke=function(a,b,d,e,f,g){this._active&&this._newPath();d=this._ctx.createLinearGradient(d,
e,f,g);e=0;for(f=a.length;e<f;e++)d.addColorStop(b[e],a[e]);this._strokeInstructions=[new c(this._setProp,["strokeStyle",d],!1)];return this};a.beginRadialGradientStroke=function(a,b,d,e,f,g,k,l){this._active&&this._newPath();d=this._ctx.createRadialGradient(d,e,f,g,k,l);e=0;for(f=a.length;e<f;e++)d.addColorStop(b[e],a[e]);this._strokeInstructions=[new c(this._setProp,["strokeStyle",d],!1)];return this};a.beginBitmapStroke=function(a,b){this._active&&this._newPath();var d=this._ctx.createPattern(a,
b||"");this._strokeInstructions=[new c(this._setProp,["strokeStyle",d],!1)];return this};a.endStroke=function(){this.beginStroke();return this};a.curveTo=a.quadraticCurveTo;a.drawRect=a.rect;a.drawRoundRect=function(a,b,d,c,f){this.drawRoundRectComplex(a,b,d,c,f,f,f,f);return this};a.drawRoundRectComplex=function(a,b,d,e,f,g,k,l){this._drawnShapes.push(new createjs.Rectangle(a,b,d,e));this._setDrawingPosition(a+f,b);var i=(d<e?d:e)/2,m=0,n=0,o=0,q=0;0>f&&(f*=m=-1);f>i&&(f=i);0>g&&(g*=n=-1);g>i&&(g=
i);0>k&&(k*=o=-1);k>i&&(k=i);0>l&&(l*=q=-1);l>i&&(l=i);this._dirty=this._active=!0;var i=this._ctx.arcTo,p=this._ctx.lineTo;this._activeInstructions.push(new c(this._ctx.moveTo,[a+d-g,b]),new c(i,[a+d+g*n,b-g*n,a+d,b+g,g]),new c(p,[a+d,b+e-k]),new c(i,[a+d+k*o,b+e+k*o,a+d-k,b+e,k]),new c(p,[a+l,b+e]),new c(i,[a-l*q,b+e+l*q,a,b+e-l,l]),new c(p,[a,b+f]),new c(i,[a-f*m,b-f*m,a+f,b,f]),new c(this._ctx.closePath));return this};a.drawCircle=function(a,b,d){this.arc(a,b,d,0,2*Math.PI);return this};a.drawEllipse=
function(a,b,d,e){this._drawnShapes.push(new Rectangle(a,b,d,e));this._setDrawingPosition(a,b+e/2);var f=0.5522848*(d/2),g=0.5522848*(e/2),k=a+d,l=b+e,d=a+d/2,e=b+e/2;this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.moveTo,[a,e]),new c(this._ctx.bezierCurveTo,[a,e-g,d-f,b,d,b]),new c(this._ctx.bezierCurveTo,[d+f,b,k,e-g,k,e]),new c(this._ctx.bezierCurveTo,[k,e+g,d+f,l,d,l]),new c(this._ctx.bezierCurveTo,[d-f,l,a,e+g,a,e]));return this};a.drawPolyStar=function(a,b,d,e,f,g){null==
f&&(f=0);f=1-f;g=null==g?0:g/(180/Math.PI);this._drawnShapes.push(new createjs.Rectangle(a-d,b-d,2*d,2*d));this._setDrawingPosition(a+d*Math.cos(g),b+d*Math.sin(g));var k=Math.PI/e;this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.moveTo,[a+Math.cos(g)*d,b+Math.sin(g)*d]));for(var l=0;l<e;l++)g+=k,1!=f&&this._activeInstructions.push(new c(this._ctx.lineTo,[a+Math.cos(g)*d*f,b+Math.sin(g)*d*f])),g+=k,this._activeInstructions.push(new c(this._ctx.lineTo,[a+Math.cos(g)*d,b+Math.sin(g)*
d]));return this};a.decodePath=function(a){for(var c=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo],d=[2,2,4,6],e=0,f=a.length,g=[],k=0,l=0,i=b.BASE_64;e<f;){var m=a.charAt(e),n=i[m],o=n>>3,q=c[o];if(!q||n&3)throw"bad path data (@"+e+"): "+m;m=d[o];o||(k=l=0);g.length=0;e++;n=(n>>2&1)+2;for(o=0;o<m;o++){var p=i[a.charAt(e)],r=p>>5?-1:1,p=(p&31)<<6|i[a.charAt(e+1)];3==n&&(p=p<<6|i[a.charAt(e+2)]);p=r*p/10;o%2?k=p+=k:l=p+=l;g[o]=p;e+=n}q.apply(this,g)}return this};a.getBounds=function(){var a=
this._drawnShapes.length;if(0===a)return new createjs.Rectangle;for(var b=this._drawnShapes,d=new createjs.Rectangle,c=0;c<a;c++){var f=b[c].x<d.x,g=b[c].x+b[c].width>d.x+d.width;f&&g?(d.width+=b[c].x+b[c].width-(d.x+d.width),d.width+=d.x-b[c].x,d.x=b[c].x):f?(d.width+=d.x-b[c].x,d.x=b[c].x):g&&(d.width+=b[c].x+b[c].width-(d.x+d.width));f=b[c].y<d.y;g=b[c].y+b[c].height>d.y+d.height;f&&g?(d.height+=b[c].y+b[c].height-(d.y+d.height),d.height+=d.y-b[c].y,d.y=b[c].y):f?(d.height+=d.y-b[c].y,d.y=b[c].y):
g&&(d.height+=b[c].y+b[c].height-(d.y+d.height))}this._drawnShapes=[d];return this._drawnShapes[0]};a.clone=function(){var a=new createjs.Graphics;a._instructions=this._instructions.slice();a._activeInstructions=this._activeInstructions.slice();a._oldInstructions=this._oldInstructions.slice();this._fillInstructions&&(a._fillInstructions=this._fillInstructions.slice());this._strokeInstructions&&(a._strokeInstructions=this._strokeInstructions.slice());this._strokeStyleInstructions&&(a._strokeStyleInstructions=
this._strokeStyleInstructions.slice());a._active=this._active;a._dirty=this._dirty;a.drawAsPath=this.drawAsPath;return a};a.toString=function(){return"[Graphics]"};a.mt=a.moveTo;a.lt=a.lineTo;a.at=a.arcTo;a.bt=a.bezierCurveTo;a.qt=a.quadraticCurveTo;a.a=a.arc;a.r=a.rect;a.cp=a.closePath;a.c=a.clear;a.f=a.beginFill;a.lf=a.beginLinearGradientFill;a.rf=a.beginRadialGradientFill;a.bf=a.beginBitmapFill;a.ef=a.endFill;a.ss=a.setStrokeStyle;a.s=a.beginStroke;a.ls=a.beginLinearGradientStroke;a.rs=a.beginRadialGradientStroke;
a.bs=a.beginBitmapStroke;a.es=a.endStroke;a.dr=a.drawRect;a.rr=a.drawRoundRect;a.rc=a.drawRoundRectComplex;a.dc=a.drawCircle;a.de=a.drawEllipse;a.dp=a.drawPolyStar;a.p=a.decodePath;a._updateInstructions=function(){this._instructions=this._oldInstructions.slice();this._instructions.push(b.beginCmd);this._fillInstructions&&this._instructions.push.apply(this._instructions,this._fillInstructions);this._strokeInstructions&&(this._instructions.push.apply(this._instructions,this._strokeInstructions),this._strokeStyleInstructions&&
this._instructions.push.apply(this._instructions,this._strokeStyleInstructions));this._instructions.push.apply(this._instructions,this._activeInstructions);this._fillInstructions&&this._instructions.push(b.fillCmd);this._strokeInstructions&&this._instructions.push(b.strokeCmd)};a._newPath=function(){this._dirty&&this._updateInstructions();this._oldInstructions=this._instructions;this._activeInstructions=[];this._active=this._dirty=!1;this._initialDrawingPosition=null};a._setDrawingPosition=function(a,
b){null==this._initialDrawingPosition&&(this._initialDrawingPosition=new createjs.Point(a,b));this._drawingPosition=new createjs.Point(a,b)};a._computeBezierQuadraticBaseValue=function(a,b,d,c){var f=1-a;return b*f*f+2*a*d*f+c*a*a};a._computeBezierQuadraticDerivative=function(a,b,d){return(a-b)/(a-2*b+d)};a._computeBezierCubicBaseValue=function(a,b,d,c,f){var g=1-a;return b*g*g*g+3*a*d*g*g+3*g*c*a*a+f*a*a*a};a._computeBezierCubicDerivative=function(a,b,d,c){var f=-a+2*b-d,g=Math.sqrt(-a*(d-c)+b*b-
b*(d+c)+d*d),a=-a+3*b-3*d+c;return[(f+g)/a,(f-g)/a]};a._setProp=function(a,b){this[a]=b};createjs.Graphics=b})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},b=c.prototype=new createjs.EventDispatcher;c.suppressCrossDomainErrors=!1;c._hitTestCanvas=document.createElement("canvas");c._hitTestCanvas.width=c._hitTestCanvas.height=1;c._hitTestContext=c._hitTestCanvas.getContext("2d");c._nextCacheID=1;b.alpha=1;b.cacheCanvas=null;b.id=-1;b.mouseEnabled=!0;b.name=null;b.parent=null;b.regX=0;b.regY=0;b.rotation=0;b.scaleX=1;b.scaleY=1;b.skewX=0;b.skewY=0;b.shadow=null;b.visible=!0;b.x=0;b.y=0;b.compositeOperation=
null;b.snapToPixel=!1;b.onTick=null;b.filters=null;b.cacheID=0;b.mask=null;b.hitArea=null;b.parentContainerInheritsSize=!0;b._cacheOffsetX=0;b._cacheOffsetY=0;b._cacheDataURLID=0;b._cacheScale=1;b._cacheDataURL=null;b._matrix=null;b._dragInfos=null;b.EventDispatcher_initialize=b.initialize;b.initialize=function(){this.EventDispatcher_initialize();this.id=createjs.UID.get();this._matrix=new createjs.Matrix2D};b.isVisible=function(){return this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY};
b.draw=function(a,b){var c=this.cacheCanvas;if(b||!c)return!1;var d=this._cacheScale;a.drawImage(c,this._cacheOffsetX,this._cacheOffsetY,c.width/d,c.height/d);return!0};b.updateContext=function(a){var b,c=this.mask;c&&c.graphics&&(b=c.getMatrix(c._matrix),a.transform(b.a,b.b,b.c,b.d,b.tx,b.ty),c.graphics.drawAsPath(a),a.clip(),b.invert(),a.transform(b.a,b.b,b.c,b.d,b.tx,b.ty));b=this._matrix.identity().appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,
this.regY);Stage._snapToPixelEnabled&&this.snapToPixel?a.transform(b.a,b.b,b.c,b.d,b.tx+0.5|0,b.ty+0.5|0):a.transform(b.a,b.b,b.c,b.d,b.tx,b.ty);a.globalAlpha*=this.alpha;this.compositeOperation&&(a.globalCompositeOperation=this.compositeOperation);this.shadow&&this._applyShadow(a,this.shadow)};b.cache=function(a,b,c,d,e){e=e||1;this.cacheCanvas||(this.cacheCanvas=document.createElement("canvas"));this.cacheCanvas.width=Math.ceil(c*e);this.cacheCanvas.height=Math.ceil(d*e);this._cacheOffsetX=a;this._cacheOffsetY=
b;this._cacheScale=e;this.updateCache()};b.updateCache=function(a){var b=this.cacheCanvas,h=this._cacheOffsetX,d=this._cacheOffsetY,e=this._cacheScale;if(!b)throw"cache() must be called before updateCache()";var f=b.getContext("2d");f.save();a||f.clearRect(h,d,b.width,b.height);f.globalCompositeOperation=a;f.setTransform(e,0,0,e,-h,-d);this.draw(f,!0);this._applyFilters();f.restore();this.cacheID=c._nextCacheID++};b.uncache=function(){this._cacheDataURL=this.cacheCanvas=null;this.cacheID=this._cacheOffsetX=
this._cacheOffsetY=0;this._cacheScale=1};b.getCacheDataURL=function(){if(!this.cacheCanvas)return null;this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL());return this._cacheDataURL};b.getStage=function(){for(var a=this;a.parent;)a=a.parent;return a instanceof Stage?a:null};b.getCenterPoint=function(){return new createjs.Point(this.x+0.5*this.getWidth(),this.y+0.5*this.getHeight())};b.localToGlobal=function(a,b){var c=this.getConcatenatedMatrix(this._matrix);if(null==
c)return null;c.append(1,0,0,1,a,b);return new createjs.Point(c.tx,c.ty)};b.globalToLocal=function(a,b){var c=this.getConcatenatedMatrix(this._matrix);if(null==c)return null;c.invert();c.append(1,0,0,1,a,b);return new createjs.Point(c.tx,c.ty)};b.localToLocal=function(a,b,c){a=this.localToGlobal(a,b);return c.globalToLocal(a.x,a.y)};b.setTransform=function(a,b,c,d,e,f,g,k,l){this.x=a||0;this.y=b||0;this.scaleX=null==c?1:c;this.scaleY=null==d?1:d;this.rotation=e||0;this.skewX=f||0;this.skewY=g||0;
this.regX=k||0;this.regY=l||0;return this};b.getMatrix=function(a){return(a?a.identity():new createjs.Matrix2D).appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY).appendProperties(this.alpha,this.shadow,this.compositeOperation)};b.getConcatenatedMatrix=function(a){a?a.identity():a=new createjs.Matrix2D;for(var b=this;null!=b;)a.prependTransform(b.x,b.y,b.scaleX,b.scaleY,b.rotation,b.skewX,b.skewY,b.regX,b.regY).prependProperties(b.alpha,
b.shadow,b.compositeOperation),b=b.parent;return a};b.getWidth=function(){var a=this.nominalBounds;if(a)return a.width+a.x;var a=new createjs.Matrix2D,b=this._measureDimensions();a.appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY);return Math.abs(b.x*a.a+b.y*a.b)};b.getHeight=function(){var a=this.nominalBounds;if(a)return a.height+a.y;var a=new createjs.Matrix2D,b=this._measureDimensions();a.appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,
this.skewX,this.skewY);return Math.abs(b.x*a.c+b.y*a.d)};b.getSize=function(){var a=this.nominalBounds;if(a)return{width:a.width+a.x,height:a.height+a.y};var a=new createjs.Matrix2D,b=this._measureDimensions();a.appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY);return{width:Math.abs(b.x*a.a+b.y*a.b),height:Math.abs(b.x*a.c+b.y*a.d)}};b.getRawWidth=function(){return this._measureDimensions(!0).x};b.getRawHeight=function(){return this._measureDimensions(!0).y};
b.getRawSize=function(){var a=this._measureDimensions(!0);return{width:a.x,height:a.y}};b.hitTest=function(a,b){var h=c._hitTestContext,d=c._hitTestCanvas;h.setTransform(1,0,0,1,-a,-b);this.draw(h);h=this._testHit(h);d.width=0;d.width=1;return h};b.hitTestPoint=function(a,b){var c=this.parent.localToGlobal(this.x-this.regX,this.y-this.regY);return a>=c.x&&a<=c.x+this.getWidth()&&b>=c.y&&b<=c.y+this.getHeight()};b.hitTestObject=function(a,b){var c=this.parent.localToGlobal(this.x-this.regX,this.y-
this.regY),d=a.parent.localToGlobal(a.x-a.regX,a.y-a.regY),b=b||0;return c.y+this.getHeight()<d.y-b||c.y>d.y+a.getHeight()+b||c.x+this.getWidth()<d.x-b||c.x>d.x+a.getWidth()+b?!1:!0};b.startDrag=function(a,b){var c=this.getStage();if(c){var d=this.parent.localToGlobal(this.x,this.y),e=c.mouseX,f=c.mouseY,g=a?0.5*this.getWidth()-this.regX:d.x,d=a?0.5*this.getHeight()-this.regY:d.y;if(a){var k=this.parent.globalToLocal(e-g,f-d);this.x=k.x;this.y=k.y}c._activeDragTarget=this;this._dragInfos={lockCenter:a,
bounds:b,startX:e,startY:f,offsetX:g,offsetY:d}}};b.stopDrag=function(){var a=this.getStage();a&&(this._dragInfos=a._activeDragTarget=null)};b.drag=function(a){var b=new createjs.Point,c=this._dragInfos,d=c.bounds;c.lockCenter?(b.x=a.stageX-c.offsetX,b.y=a.stageY-c.offsetY):(b.x=a.stageX-c.startX+c.offsetX,b.y=a.stageY-c.startY+c.offsetY);d&&((a=new createjs.Point(b.x,b.y),d.width<this.getWidth()||d.height<this.getHeight())?(a.x>d.x?b.x=d.x:a.x+this.getWidth()<d.x+d.width&&(b.x=d.x+d.width-this.getWidth()),
a.y>d.y)?b.y=d.y:a.y+this.getHeight()<d.y+d.height&&(b.y=d.y+d.height-this.getHeight()):(a.x<d.x?b.x=d.x:a.x+this.getWidth()>d.x+d.width&&(b.x=d.x+d.width-this.getWidth()),a.y<d.y)?b.y=d.y:a.y+this.getHeight()>d.y+d.height&&(b.y=d.y+d.height-this.getHeight()));b=this.parent.globalToLocal(b.x,b.y);this.x=b.x;this.y=b.y};b.clone=function(){var a=new createjs.DisplayObject;this.cloneProps(a);return a};b.toString=function(){return"[DisplayObject (name="+this.name+")]"};b.cloneProps=function(a){a.alpha=
this.alpha;a.name=this.name;a.regX=this.regX;a.regY=this.regY;a.rotation=this.rotation;a.scaleX=this.scaleX;a.scaleY=this.scaleY;a.shadow=this.shadow;a.skewX=this.skewX;a.skewY=this.skewY;a.visible=this.visible;a.x=this.x;a.y=this.y;a.mouseEnabled=this.mouseEnabled;a.compositeOperation=this.compositeOperation;this.cacheCanvas&&(a.cacheCanvas=this.cacheCanvas.cloneNode(!0),a.cacheCanvas.getContext("2d").putImageData(this.cacheCanvas.getContext("2d").getImageData(0,0,this.cacheCanvas.width,this.cacheCanvas.height),
0,0))};b._applyShadow=function(a,b){b=b||Shadow.identity;a.shadowColor=b.color;a.shadowOffsetX=b.offsetX;a.shadowOffsetY=b.offsetY;a.shadowBlur=b.blur};b._tick=function(a){if(this.onTick)this.onTick(a)};b._testHit=function(a){try{var b=1<a.getImageData(0,0,1,1).data[3]}catch(h){if(!c.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.";}return b};b._applyFilters=function(){if(this.filters&&
0!=this.filters.length&&this.cacheCanvas)for(var a=this.filters.length,b=this.cacheCanvas.getContext("2d"),c=this.cacheCanvas.width,d=this.cacheCanvas.height,e=0;e<a;e++)this.filters[e].applyFilter(b,0,0,c,d)};b._measureDimensions=function(){return new createjs.Point};createjs.DisplayObject=c})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},b=c.prototype=new createjs.DisplayObject;b.children=null;b.DisplayObject_initialize=b.initialize;b.initialize=function(){this.DisplayObject_initialize();this.children=[]};b.isVisible=function(){return this.visible&&0<this.alpha&&this.children.length&&0!=this.scaleX&&0!=this.scaleY};b.DisplayObject_draw=b.draw;b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;for(var c=this.children.slice(0),d=0,e=c.length;d<e;d++){var f=c[d];f.isVisible()&&
(a.save(),f.updateContext(a),f.draw(a),a.restore())}return!0};b.dispatchEventToChildren=function(a){var b=this.children.length;if(0!==b)for(var c=this.children.slice(0),d=0;d<b;d++)c[d].hasEventListener(a.type)&&c[d].dispatchEvent(a)};b.addChild=function(a){if(null==a)return a;var b=arguments.length;if(1<b){for(var h=0;h<b;h++)this.addChild(arguments[h]);return arguments[b-1]}a.parent&&a.parent.removeChild(a);a.parent=this;this.children.push(a);a.getStage()&&(b=new createjs.Event("addedToStage"),
a instanceof c&&a.dispatchEventToChildren(b),a.hasEventListener("addedToStage")&&a.dispatchEvent(b));a instanceof DOMElement&&(a.draw(),a._style.visibility="visible");return a};b.addChildAt=function(a,b){var h=arguments.length,d=arguments[h-1];if(0>d||d>this.children.length)return arguments[h-2];if(2<h){for(var e=0;e<h-1;e++)this.addChildAt(arguments[e],d+e);return arguments[h-2]}a.parent&&a.parent.removeChild(a);a.parent=this;this.children.splice(b,0,a);a.getStage()&&(h=new createjs.Event("addedToStage"),
a instanceof c&&a.dispatchEventToChildren(h),a.hasEventListener("addedToStage")&&a.dispatchEvent(h));a instanceof DOMElement&&(a.draw(),a._style.visibility="visible");return a};b.removeChild=function(a){var b=arguments.length;if(1<b){for(var c=!0,d=0;d<b;d++)c=c&&this.removeChild(arguments[d]);return c}return this.removeChildAt(this.children.indexOf(a))};b.removeChildAt=function(a){var b=arguments.length;if(1<b){for(var h=[],d=0;d<b;d++)h[d]=arguments[d];h.sort(function(a,b){return b-a});for(var e=
!0,d=0;d<b;d++)e=e&&this.removeChildAt(h[d]);return e}if(0>a||a>this.children.length-1)return!1;if(b=this.children[a])b.getStage()&&(h=new createjs.Event("removedFromStage"),b instanceof c&&b.dispatchEventToChildren(h),b.hasEventListener("removedFromStage")&&b.dispatchEvent(h)),b instanceof DOMElement&&(b._style.visibility="hidden"),b.parent=null;this.children.splice(a,1);return!0};b.removeAllChildren=function(){for(var a=this.children,b;a.length;){b=a.pop();if(b.getStage()){var h=new createjs.Event("removedFromStage");
b instanceof c&&b.dispatchEventToChildren(h);b.hasEventListener("removedFromStage")&&b.dispatchEvent(h)}a.parent=null}};b.getChildAt=function(a){return this.children[a]};b.sortChildren=function(a){this.children.sort(a)};b.getChildIndex=function(a){return this.children.indexOf(a)};b.getNumChildren=function(){return this.children.length};b.swapChildrenAt=function(a,b){var c=this.children,d=c[a],e=c[b];d&&e&&(c[a]=e,c[b]=d)};b.swapChildren=function(a,b){for(var c=this.children,d,e,f=0,g=c.length;f<g&&
!(c[f]==a&&(d=f),c[f]==b&&(e=f),null!=d&&null!=e);f++);f!=g&&(c[d]=b,c[e]=a)};b.setChildIndex=function(a,b){var c=this.children,d=c.length;if(!(a.parent!=this||0>b||b>=d)){for(var e=0;e<d&&c[e]!=a;e++);e==d||e==b||(c.splice(e,1),b<e&&b--,c.splice(b,0,a))}};b.contains=function(a){for(;a;){if(a==this)return!0;a=a.parent}return!1};b.hitTest=function(a,b){return null!=this.getObjectUnderPoint(a,b)};b.getObjectsUnderPoint=function(a,b){var c=[],d=this.localToGlobal(a,b);this._getObjectsUnderPoint(d.x,
d.y,c);return c};b.getObjectUnderPoint=function(a,b){var c=this.localToGlobal(a,b);return this._getObjectsUnderPoint(c.x,c.y)};b.clone=function(a){var b=new createjs.Container;this.cloneProps(b);if(a)for(var c=b.children=[],d=0,e=this.children.length;d<e;d++){var f=this.children[d].clone(a);f.parent=b;c.push(f)}return b};b.toString=function(){return"[Container (name="+this.name+")]"};b._tick=function(a){for(var b=this.children.length-1;0<=b;b--){var c=this.children[b];c._tick&&c._tick(a)}if(this.onTick)this.onTick(a)};
b._getObjectsUnderPoint=function(a,b,h,d){var e=DisplayObject._hitTestContext,f=DisplayObject._hitTestCanvas,g=this._matrix,k=d&1&&!(this instanceof Stage)&&(this.hasEventListener("mouseDown")||this.hasEventListener("click")||this.hasEventListener("doubleClick"))||d&2&&(this.hasEventListener("rollOver")||this.hasEventListener("rollOut"));if(this.cacheCanvas&&k&&(this.getConcatenatedMatrix(g),e.setTransform(g.a,g.b,g.c,g.d,g.tx-a,g.ty-b),e.globalAlpha=g.alpha,this.draw(e),this._testHit(e)))return f.width=
0,f.width=1,this;for(var l=this.children.length-1;0<=l;l--){var i=this.children[l];if(i.isVisible()&&i.mouseEnabled)if(i instanceof c)if(k){if(i=i._getObjectsUnderPoint(a,b))return this}else{if(i=i._getObjectsUnderPoint(a,b,h,d),!h&&i)return i}else if(!d||k||d&1&&(i.hasEventListener("mouseDown")||i.hasEventListener("click")||i.hasEventListener("doubleClick"))||d&2&&(i.hasEventListener("rollOver")||i.hasEventListener("rollOut")))if(i instanceof DOMElement){if(i.hitTestPoint(a,b)){if(k)return this;
if(h)h.push(i);else return i}}else{var m=i.hitArea;i.getConcatenatedMatrix(g);m&&(g.appendTransform(m.x+i.regX,m.y+i.regY,m.scaleX,m.scaleY,m.rotation,m.skewX,m.skewY,m.regX,m.regY),g.alpha*=m.alpha/i.alpha);e.globalAlpha=g.alpha;e.setTransform(g.a,g.b,g.c,g.d,g.tx-a,g.ty-b);(m||i).draw(e);if(this._testHit(e)){f.width=0;f.width=1;if(k)return this;if(h)h.push(i);else return i}}}return null};b._measureDimensions=function(a){var b=this.children.length;if(0===b)return new createjs.Point;for(var c=this.children.slice(0),
d=new createjs.Rectangle,e=0;e<b;e++)c[e].parentContainerInheritsSize&&this._expandDimensionsFromObject(d,c[e],a);return new createjs.Point(d.width,d.height)};b._expandDimensionsFromObject=function(a,b,c){var d=b.x-b.regX,e=b.y-b.regY,c=c?b.getRawSize():b.getSize();if(b instanceof Text){switch(b.textAlign){case "center":d-=0.5*c.width;break;case "right":case "end":d-=c.width}switch(b.textBaseline){case "middle":e+=0.5*c.height;break;case "ideographic":case "bottom":case "alphabetic":e+=c.height}}var b=
d<a.x,f=d+c.width>a.x+a.width;b&&f?(a.width+=d+c.width-(a.x+a.width),a.width+=a.x-d,a.x=d):b?(a.width+=a.x-d,a.x=d):f&&(a.width+=d+c.width-(a.x+a.width));d=e<a.y;b=e+c.height>a.y+a.height;d&&b?(a.height+=e+c.height-(a.y+a.height),a.height+=a.y-e,a.y=e):d?(a.height+=a.y-e,a.y=e):b&&(a.height+=e+c.height-(a.y+a.height))};createjs.Container=c})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},b=c.prototype=new createjs.Container;c._snapToPixelEnabled=!1;b.autoClear=!0;b.canvas=null;b.mouseX=0;b.mouseY=0;b.snapToPixelEnabled=!1;b.mouseInBounds=!1;b.tickOnUpdate=!0;b._pointerData=null;b._pointerCount=0;b._primaryPointerID=null;b._mouseOverIntervalID=null;b.Container_initialize=b.initialize;b.initialize=function(a){this.Container_initialize();this.canvas=a instanceof HTMLCanvasElement?a:document.getElementById(a);this._pointerData={};this._enableMouseEvents();
this._enableKeyboardEvents()};b.update=function(a){this.canvas&&(this.hasEventListener("enterFrame")&&this.dispatchEvent(new createjs.Event("enterFrame")),this.autoClear&&this.clear(),c._snapToPixelEnabled=this.snapToPixelEnabled,this.tickOnUpdate&&this._tick(a),a=this.canvas.getContext("2d"),a.save(),this.updateContext(a),this.draw(a,!1),a.restore(),this.hasEventListener("exitFrame")&&this.dispatchEvent(new createjs.Event("exitFrame")))};b.tick=b.update;b.clear=function(){if(this.canvas){var a=this.canvas.getContext("2d");
a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.canvas.width,this.canvas.height)}};b.toDataURL=function(a,b){b||(b="image/png");var c=this.canvas.getContext("2d"),d=this.canvas.width,e=this.canvas.height,f;if(a){f=c.getImageData(0,0,d,e);var g=c.globalCompositeOperation;c.globalCompositeOperation="destination-over";c.fillStyle=a;c.fillRect(0,0,d,e)}var k=this.canvas.toDataURL(b);a&&(c.clearRect(0,0,d,e),c.putImageData(f,0,0),c.globalCompositeOperation=g);return k};b.enableMouseOver=function(a){this._mouseOverIntervalID&&
(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null);if(null==a)a=20;else if(0>=a)return;var b=this;this._mouseOverIntervalID=setInterval(function(){b._testMouseOver()},1E3/Math.min(50,a));this._mouseOverX=NaN;this._mouseOverTarget=null};b.clone=function(){var a=new createjs.Stage(null);this.cloneProps(a);return a};b.toString=function(){return"[Stage (name="+this.name+")]"};b._measureDimensions=function(){return new createjs.Point(this.canvas.width,this.canvas.height)};b._enableMouseEvents=
function(){var a=this,b=window.addEventListener?window:document;b.addEventListener("mouseup",function(b){a._handleMouseUp(b)},!1);b.addEventListener("mousemove",function(b){a._handleMouseMove(b)},!1);b.addEventListener("dblclick",function(b){a._handleDoubleClick(b)},!1);b.addEventListener("mousedown",function(b){a._handleMouseDown(b)},!1);var c=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel";b.addEventListener(c,function(b){a._handleMouseWheel(b)},!1)};b._getPointerData=function(a){var b=
this._pointerData[a];b||(b=this._pointerData[a]={x:0,y:0},null==this._primaryPointerID&&(this._primaryPointerID=a));return b};b._enableKeyboardEvents=function(){var a=this,b=window.addEventListener?window:document;b.addEventListener("keyup",function(b){a._handleKeyUp(b)},!1);b.addEventListener("keydown",function(b){a._handleKeyDown(b)},!1)};b._handleKeyUp=function(a){this.hasEventListener("keyUp")&&this.dispatchEvent(new createjs.KeyboardEvent("keyUp",a.keyCode,a.charCode,a.ctrlKey,a.altKey,a.shiftKey,
a))};b._handleKeyDown=function(a){this.hasEventListener("keyDown")&&this.dispatchEvent(new createjs.KeyboardEvent("keyDown",a.keyCode,a.charCode,a.ctrlKey,a.altKey,a.shiftKey,a))};b._handleMouseWheel=function(a){this.hasEventListener("mouseWheel")&&this.mouseInBounds&&this.dispatchEvent(new createjs.MouseEvent("mouseWheel",null,null,a,null,!1))};b._handleMouseMove=function(a){a||(a=window.event);this._handlePointerMove(-1,a,a.pageX,a.pageY)};b._handlePointerMove=function(a,b,c,d){if(this.canvas){var e=
this._getPointerData(a),f=e.inBounds;this._updatePointerPosition(a,c,d);if(f||e.inBounds)a=new createjs.MouseEvent("mouseMove",e.x,e.y,b,a,a==this._primaryPointerID),this.hasEventListener("mouseMove")&&this.dispatchEvent(a),e.event&&e.event.hasEventListener("mouseMove")&&e.event.dispatchEvent(a),this._activeDragTarget&&this._activeDragTarget.drag(a)}};b._updatePointerPosition=function(a,b,c){var d=this.canvas;do b-=d.offsetLeft,c-=d.offsetTop;while(d=d.offsetParent);d=this._getPointerData(a);if(d.inBounds=
0<=b&&0<=c&&b<this.canvas.width&&c<this.canvas.height)d.x=b,d.y=c;a==this._primaryPointerID&&(this.mouseX=d.x,this.mouseY=d.y,this.mouseInBounds=d.inBounds)};b._handleMouseUp=function(a){this._handlePointerUp(-1,a,!1)};b._handlePointerUp=function(a,b,c){var d=this._getPointerData(a),e=new createjs.MouseEvent("mouseUp",d.x,d.y,b,a,a==this._primaryPointerID);this.hasEventListener("mouseUp")&&this.dispatchEvent(e);d.event&&d.event.hasEventListener("mouseUp")&&d.event.dispatchEvent(e);b=new createjs.MouseEvent("click",
d.x,d.y,b,a,a==this._primaryPointerID);this.hasEventListener("click")&&this.dispatchEvent(b);d.target&&(d.target.hasEventListener("click")&&this._getObjectsUnderPoint(d.x,d.y,null,!0)==d.target)&&d.target.dispatchEvent(b);c?(a==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[a]):d.event=d.target=null};b._handleMouseDown=function(a){this._handlePointerDown(-1,a,!1)};b._handlePointerDown=function(a,b,c,d){var e=this._getPointerData(a);null!=d&&this._updatePointerPosition(a,
c,d);this.hasEventListener("mouseDown")&&this.dispatchEvent(new createjs.MouseEvent("mouseDown",e.x,e.y,b,a,a==this._primaryPointerID));if(c=this._getObjectsUnderPoint(e.x,e.y,null,this._mouseOverIntervalID?3:1)){if(c.hasEventListener("mouseDown")&&(a=new createjs.MouseEvent("mouseDown",e.x,e.y,b,a,a==this._primaryPointerID),c.dispatchEvent(a),a.hasEventListener("mouseMove")||a.hasEventListener("mouseUp")))e.event=a;e.target=c}};b._testMouseOver=function(){if(!(this.mouseX==this._mouseOverX&&this.mouseY==
this._mouseOverY&&this.mouseInBounds)){var a=null;this.mouseInBounds&&(a=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,3),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);this._mouseOverTarget!=a&&(this._mouseOverTarget&&this._mouseOverTarget.hasEventListener("rollOut")&&this._mouseOverTarget.dispatchEvent(new createjs.MouseEvent("rollOut",this.mouseX,this.mouseY)),a&&a.hasEventListener("rollOver")&&a.dispatchEvent(new createjs.MouseEvent("rollOver",this.mouseX,this.mouseY)),this._mouseOverTarget=
a)}};b._handleDoubleClick=function(a){this.hasEventListener("doubleClick")&&this.dispatchEvent(new createjs.MouseEvent("doubleClick",this.mouseX,this.mouseY,a,NaN,!0));var b=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,this._mouseOverIntervalID?3:1);b&&b.hasEventListener("doubleClick")&&b.dispatchEvent(new createjs.MouseEvent("doubleClick",this.mouseX,this.mouseY,a))};createjs.Stage=c})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},b=c.prototype=new createjs.DisplayObject;b.image=null;b.snapToPixel=!0;b.sourceRect=null;b.DisplayObject_initialize=b.initialize;b.initialize=function(a){this.DisplayObject_initialize();"string"==typeof a?(this.image=new Image,this.image.src=a):this.image=a};b.isVisible=function(){return this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&this.image&&(this.image.complete||this.image.getContext||2<=this.image.readyState)};b.DisplayObject_draw=
b.draw;b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;var c=this.sourceRect;c?a.drawImage(this.image,c.x,c.y,c.width,c.height,0,0,c.width,c.height):a.drawImage(this.image,0,0);return!0};b.clone=function(){var a=new createjs.Bitmap(this.image);this.cloneProps(a);return a};b.toString=function(){return"[Bitmap (name="+this.name+")]"};b._measureDimensions=function(){var a,b=this.image,c=this.sourceRect;if(!b)return new createjs.Point;if(c)return new createjs.Point(c.width,c.height);b instanceof
HTMLImageElement?a=new createjs.Point(b.naturalWidth,b.naturalHeight):b instanceof HTMLVideoElement&&(a=new createjs.Point(b.videoWidth,b.videoHeight));return a||new createjs.Point(b.width,b.height)};createjs.Bitmap=c})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},b=c.prototype=new createjs.DisplayObject;b.onAnimationEnd=null;b.currentFrame=-1;b.currentAnimation=null;b.paused=!0;b.spriteSheet=null;b.snapToPixel=!0;b.offset=0;b.currentAnimationFrame=0;b._advanceCount=0;b._animation=null;b.DisplayObject_initialize=b.initialize;b.initialize=function(a){this.DisplayObject_initialize();this.spriteSheet=a};b.isVisible=function(){return this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&this.spriteSheet.complete&&
0<=this.currentFrame};b.DisplayObject_draw=b.draw;b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;this._normalizeFrame();var c=this.spriteSheet.getFrame(this.currentFrame);if(null!=c){var d=c.rect;a.drawImage(c.image,d.x,d.y,d.width,d.height,-c.regX,-c.regY,d.width,d.height);return!0}};b.play=function(){this.paused=!1};b.stop=function(){this.paused=!0};b.gotoAndPlay=function(a){this.paused=!1;this._goto(a)};b.gotoAndStop=function(a){this.paused=!0;this._goto(a)};b.advance=function(){this._animation?
this.currentAnimationFrame++:this.currentFrame++;this._normalizeFrame()};b.clone=function(){var a=new createjs.BitmapAnimation(this.spriteSheet);this.cloneProps(a);return a};b.toString=function(){return"[BitmapAnimation (name="+this.name+")]"};b._tick=function(a){var b=this._animation?this._animation.frequency:1;!this.paused&&0==(++this._advanceCount+this.offset)%b&&this.advance();if(this.onTick)this.onTick(a)};b._normalizeFrame=function(){var a=this._animation;if(a)if(this.currentAnimationFrame>=
a.frames.length){if(a.next?this._goto(a.next):(this.paused=!0,this.currentAnimationFrame=a.frames.length-1,this.currentFrame=a.frames[this.currentAnimationFrame]),this.onAnimationEnd)this.onAnimationEnd(this,a.name)}else this.currentFrame=a.frames[this.currentAnimationFrame];else if(this.currentFrame>=this.spriteSheet.getNumFrames()&&(this.currentFrame=0,this.onAnimationEnd))this.onAnimationEnd(this,null)};b.DisplayObject_cloneProps=b.cloneProps;b.cloneProps=function(a){this.DisplayObject_cloneProps(a);
a.onAnimationEnd=this.onAnimationEnd;a.currentFrame=this.currentFrame;a.currentAnimation=this.currentAnimation;a.paused=this.paused;a.offset=this.offset;a._animation=this._animation;a.currentAnimationFrame=this.currentAnimationFrame};b._goto=function(a){if(isNaN(a)){var b=this.spriteSheet.getAnimation(a);b&&(this.currentAnimationFrame=0,this._animation=b,this.currentAnimation=a,this._normalizeFrame())}else this.currentAnimation=this._animation=null,this.currentFrame=a};b._measureDimensions=function(){return new createjs.Point(this.spriteSheet._frameWidth,
this.spriteSheet._frameHeight)};createjs.BitmapAnimation=c})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},b=c.prototype=new createjs.DisplayObject;b.graphics=null;b.DisplayObject_initialize=b.initialize;b.initialize=function(a){this.DisplayObject_initialize();this.graphics=a?a:new createjs.Graphics};b.isVisible=function(){return this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&!!this.graphics};b.DisplayObject_draw=b.draw;b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;this.graphics.draw(a);return!0};b.clone=function(a){a=new createjs.Shape(a&&
this.graphics?this.graphics.clone():this.graphics);this.cloneProps(a);return a};b.toString=function(){return"[Shape (name="+this.name+")]"};b._measureDimensions=function(){var a=this.graphics.getBounds();return new createjs.Point(a.width,a.height)};createjs.Shape=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,b,c){this.initialize(a,b,c)},b=c.prototype=new createjs.DisplayObject;c._workingContext=document.createElement("canvas").getContext("2d");b.text="";b.font=null;b.color=null;b.textAlign=null;b.textBaseline=null;b.maxWidth=null;b.outline=!1;b.lineHeight=0;b.lineWidth=null;b.DisplayObject_initialize=b.initialize;b.initialize=function(a,b,c){this.DisplayObject_initialize();this.text=a;this.font=b;this.color=c?c:"#000"};b.isVisible=function(){return Boolean(this.visible&&0<
this.alpha&&0!=this.scaleX&&0!=this.scaleY&&null!=this.text&&""!==this.text)};b.DisplayObject_draw=b.draw;b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;this.outline?a.strokeStyle=this.color:a.fillStyle=this.color;a.font=this.font;a.textAlign=this.textAlign||"start";a.textBaseline=this.textBaseline||"alphabetic";this._drawText(a);return!0};b.getMeasuredWidth=function(){return this._getWorkingContext().measureText(this.text).width};b.getMeasuredLineHeight=function(){return 1.2*this._getWorkingContext().measureText("M").width};
b.getMeasuredHeight=function(){return this._drawText()*(this.lineHeight||this.getMeasuredLineHeight())};b.getNumLines=function(){return this._drawText()};b.clone=function(){var a=new createjs.Text(this.text,this.font,this.color);this.cloneProps(a);return a};b.toString=function(){return"[Text (text="+(20<this.text.length?this.text.substr(0,17)+"...":this.text)+")]"};b.DisplayObject_cloneProps=b.cloneProps;b.cloneProps=function(a){this.DisplayObject_cloneProps(a);a.textAlign=this.textAlign;a.textBaseline=
this.textBaseline;a.maxWidth=this.maxWidth;a.outline=this.outline;a.lineHeight=this.lineHeight;a.lineWidth=this.lineWidth};b._getWorkingContext=function(){var a=c._workingContext;a.font=this.font;a.textAlign=this.textAlign||"start";a.textBaseline=this.textBaseline||"alphabetic";return a};b._drawText=function(a){var b=!!a;b||(a=this._getWorkingContext());for(var c=(""+this.text).split(/(?:\r\n|\r|\n)/),d=this.lineHeight||this.getMeasuredLineHeight(),e=0,f=0,g=c.length;f<g;f++){var k=a.measureText(c[f]).width;
if(null==this.lineWidth||k<this.lineWidth)b&&this._drawTextLine(a,c[f],e*d);else{for(var k=c[f].split(/(\s)/),l=k[0],i=1,m=k.length;i<m;i+=2)a.measureText(l+k[i]+k[i+1]).width>this.lineWidth?(b&&this._drawTextLine(a,l,e*d),e++,l=k[i+1]):l+=k[i]+k[i+1];b&&this._drawTextLine(a,l,e*d)}e++}return e};b._drawTextLine=function(a,b,c){this.outline?a.strokeText(b,0,c,this.maxWidth||65535):a.fillText(b,0,c,this.maxWidth||65535)};b._measureDimensions=function(){return new createjs.Point(this.maxWidth||this.lineWidth||
this.getMeasuredWidth(),this.getMeasuredHeight())};createjs.Text=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,b){this.initialize(a,b)},b=c.prototype=new createjs.DisplayObject;b.htmlElement=null;b.wrapperOnly=!1;b._style=null;b.DisplayObject_initialize=b.initialize;b.initialize=function(a,b){"string"==typeof a&&(a=document.getElementById(a));this.DisplayObject_initialize();this.htmlElement=a;this.wrapperOnly=!!b;a&&(this._style=a.style,b||(this._style.position="absolute",this._style.visibility="hidden",this._style.transformOrigin=this._style.WebkitTransformOrigin=this._style.OTransformOrigin=
this._style.msTransformOrigin=this._style.MozTransformOrigin="0% 0%"))};b.isVisible=function(){return null!=this.htmlElement&&null!=this.getStage()};b.draw=function(){if(null!=this.htmlElement&&!this.wrapperOnly){var a=this.getConcatenatedMatrix(this._matrix),b=this.htmlElement;b.style.opacity=""+a.alpha;b.style.visibility=this.visible?"visible":"hidden";b.style.transform=b.style.WebkitTransform=b.style.OTransform=b.style.msTransform=["matrix("+a.a,a.b,a.c,a.d,a.tx+0.5|0,(a.ty+0.5|0)+")"].join();
b.style.MozTransform=["matrix("+a.a,a.b,a.c,a.d,(a.tx+0.5|0)+"px",(a.ty+0.5|0)+"px)"].join();return!0}};b.cache=function(){};b.uncache=function(){};b.updateCache=function(){};b.hitTest=function(){};b.clone=function(a){var b=a?this.htmlElement.cloneNode(!0):this.htmlElement,c=new createjs.DOMElement(b,this.wrapperOnly);a&&this.htmlElement.parentNode.appendChild(b);this.cloneProps(c);return c};b.toString=function(){return"[DOMElement (name="+this.name+")]"};b._tick=function(a){if(null!=this.htmlElement&&
!this.wrapperOnly&&(this.htmlElement.style.visibility="hidden",this.onTick))this.onTick(a)};b._measureDimensions=function(){var a=this.htmlElement;return new createjs.Point(a.offsetWidth,a.offsetHeight)};createjs.DOMElement=c})();this.createjs=this.createjs||{};
(function(){var c=function(){throw"SpriteSheetUtils cannot be instantiated";};c._workingCanvas=document.createElement("canvas");c._workingContext=c._workingCanvas.getContext("2d");c.addFlippedFrames=function(b,a,j,h){if(a||j||h){var d=0;a&&c._flip(b,++d,!0,!1);j&&c._flip(b,++d,!1,!0);h&&c._flip(b,++d,!0,!0)}};c.extractFrame=function(b,a){isNaN(a)&&(a=b.getAnimation(a).frames[0]);var j=b.getFrame(a);if(!j)return null;var h=j.rect,d=c._workingCanvas;d.width=h.width;d.height=h.height;c._workingContext.drawImage(j.image,
h.x,h.y,h.width,h.height,0,0,h.width,h.height);j=new Image;j.src=d.toDataURL("image/png");return j};c.mergeAlpha=function(b,a,c){c||(c=ns.createCanvas?ns.createCanvas():document.createElement("canvas"));c.width=Math.max(a.width,b.width);c.height=Math.max(a.height,b.height);var h=c.getContext("2d");h.save();h.drawImage(b,0,0);h.globalCompositeOperation="destination-in";h.drawImage(a,0,0);h.restore();return c};c._flip=function(b,a,j,h){for(var d=b._images,e=c._workingCanvas,f=c._workingContext,g=d.length/
a,k=0;k<g;k++){var l=d[k];l.__tmp=k;e.width=0;e.width=l.width;e.height=l.height;f.setTransform(j?-1:1,0,0,h?-1:1,j?l.width:0,h?l.height:0);f.drawImage(l,0,0);var i=new Image;i.src=e.toDataURL("image/png");i.width=l.width;i.height=l.height;d.push(i)}f=b._frames;e=f.length/a;for(k=0;k<e;k++){var l=f[k],m=l.rect.clone(),i=d[l.image.__tmp+g*a],n={image:i,rect:m,regX:l.regX,regY:l.regY};j&&(m.x=i.width-m.x-m.width,n.regX=m.width-l.regX);h&&(m.y=i.height-m.y-m.height,n.regY=m.height-l.regY);f.push(n)}j=
"_"+(j?"h":"")+(h?"v":"");h=b._animations;b=b._data;d=h.length/a;for(k=0;k<d;k++){f=h[k];l=b[f];g={name:f+j,frequency:l.frequency,next:l.next,frames:[]};l.next&&(g.next+=j);f=l.frames;l=0;for(i=f.length;l<i;l++)g.frames.push(f[l]+e*a);b[g.name]=g;h.push(g.name)}};createjs.SpriteSheetUtils=c})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},b=c.prototype;c.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions";c.ERR_RUNNING="a build is already running";b.maxWidth=2048;b.maxHeight=2048;b.spriteSheet=null;b.scale=1;b._frames=null;b._animations=null;b._data=null;b._nextFrameIndex=0;b._index=0;b._callback=null;b._timeSlice=null;b._timerID=null;b._scale=1;b.initialize=function(){this._frames=[];this._animations={}};b.addFrame=function(a,b,h,d,e,f){if(this._data)throw c.ERR_RUNNING;b=
b||a.bounds||a.nominalBounds;!b&&a.getBounds&&(b=a.getBounds());if(!b)return null;h=h||1;return this._frames.push({source:a,sourceRect:b,scale:h,funct:d,params:e,scope:f,index:this._frames.length,height:b.height*h})-1};b.addAnimation=function(a,b,h,d){if(this._data)throw c.ERR_RUNNING;this._animations[a]={frames:b,next:h,frequency:d}};b.addMovieClip=function(a,b,h){if(this._data)throw c.ERR_RUNNING;var d=a.frameBounds,b=b||a.bounds||a.nominalBounds;!b&&a.getBounds&&(b=a.getBounds());if(!b&&!d)return null;
for(var e=a.timeline.duration,f=0;f<e;f++)this.addFrame(a,d&&d[f]?d[f]:b,h,function(a){var b=this.actionsEnabled;this.actionsEnabled=!1;this.gotoAndStop(a);this.actionsEnabled=b},[f],a);var a=a.timeline._labels,g;for(g in a)this.addAnimation(g,a[g],!0)};b.build=function(){if(this._data)throw c.ERR_RUNNING;this._callback=null;for(this._startBuild();this._drawNext(););this._endBuild();return this.spriteSheet};b.buildAsync=function(a,b){if(this._data)throw c.ERR_RUNNING;this._callback=a;this._startBuild();
this._timeSlice=50*Math.max(0.01,Math.min(0.99,b||0.3));var h=this;this._timerID=setTimeout(function(){h._run()},50-this._timeSlice)};b.stopAsync=function(){clearTimeout(this._timerID);this._data=null};b.clone=function(){throw"SpriteSheet cannot be cloned.";};b.toString=function(){return"[SpriteSheetBuilder]"};b._startBuild=function(){this.spriteSheet=null;this._index=0;this._scale=this.scale;var a=[];this._data={images:[],frames:a,animations:this._animations};var b=this._frames.slice();b.sort(function(a,
b){return a.height<=b.height?-1:1});if(b[b.length-1].height>this.maxHeight)throw c.ERR_DIMENSIONS;for(var h=1,d=1,e=0;b.length;){var f=this._fillRow(b,h,e,a);f.w>d&&(d=f.w);h+=f.h+2;if(!f.h||!b.length){var g=document.createElement("canvas");g.width=this._getSize(d,this.maxWidth);g.height=this._getSize(h,this.maxHeight);this._data.images[e]=g;f.h||(d=h=1,e++)}}};b._getSize=function(a,b){for(var c=4;Math.pow(2,++c)<a;);return Math.min(b,Math.pow(2,c))};b._fillRow=function(a,b,h,d){for(var e=this.maxWidth,
f=this.maxHeight-b,g=1,k=0,l=a.length-1;0<=l;l--){var i=a[l],m=this._scale*i.scale,n=i.sourceRect,o=i.source,q=Math.floor(m*n.x-1),p=Math.floor(m*n.y-1),r=Math.ceil(m*n.height),n=Math.ceil(m*n.width);if(n>e)throw c.ERR_DIMENSIONS;r>f||g+n>e||(i.img=h,i.rect=new createjs.Rectangle(g,b,n,r),k=k||r,a.splice(l,1),d[i.index]=[g-1,b-1,n+2,r+2,h,Math.round(-q+m*o.regX),Math.round(-p+m*o.regY)],g+=n+2)}return{w:g,h:k}};b._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data);this._data=
null;this._callback&&this._callback(this)};b._run=function(){for(var a=(new Date).getTime()+this._timeSlice,b=!1;a>(new Date).getTime();)if(!this._drawNext()){b=!0;break}if(b)this._endBuild();else{var c=this;this._timerID=setTimeout(function(){c._run()},50-this._timeSlice)}};b._drawNext=function(){var a=this._frames[this._index],b=a.scale*this._scale,c=a.rect,d=a.sourceRect,e=this._data.images[a.img].getContext("2d");a.funct&&a.funct.apply(a.scope,a.params);e.save();e.beginPath();e.rect(c.x-1,c.y-
1,c.width+2,c.height+2);e.clip();e.translate(c.x-d.x*b+0.5|0,c.y-d.y*b+0.5|0);e.scale(b,b);a.source.draw(e);e.restore();return++this._index<this._frames.length};createjs.SpriteSheetBuilder=c})();this.createjs=this.createjs||{};(function(){var c=function(){this.initialize()},b=c.prototype;b.initialize=function(){};b.getBounds=function(){return new createjs.Rectangle(0,0,0,0)};b.applyFilter=function(){};b.toString=function(){return"[Filter]"};b.clone=function(){return new createjs.Filter};createjs.Filter=c})();this.createjs=this.createjs||{};
(function(){var c=function(){throw"Touch cannot be instantiated";};c.isSupported=function(){return"ontouchstart"in window||window.navigator.msPointerEnabled};c.enable=function(b,a,j){if(!b||!b.canvas||!c.isSupported())return!1;b.__touch={pointers:{},multitouch:!a,preventDefault:!j,count:0};"ontouchstart"in window?c._IOS_enable(b):window.navigator.msPointerEnabled&&c._IE_enable(b);return!0};c._IOS_enable=function(b){document.addEventListener("touchstart",function(a){c._IOS_handleEvent(b,a)},!1);document.addEventListener("touchmove",
function(a){c._IOS_handleEvent(b,a)},!1);document.addEventListener("touchend",function(a){c._IOS_handleEvent(b,a)},!1);document.addEventListener("touchcancel",function(a){c._IOS_handleEvent(b,a)},!1)};c._IOS_handleEvent=function(b,a){b.__touch.preventDefault&&a.preventDefault&&a.preventDefault();for(var c=a.changedTouches,h=a.type,d=0,e=c.length;d<e;d++){var f=c[d],g=f.identifier;"touchstart"==h?this._handleStart(b,g,a,f.pageX,f.pageY):"touchmove"==h?this._handleMove(b,g,a,f.pageX,f.pageY):("touchend"==
h||"touchcancel"==h)&&this._handleEnd(b,g,a)}};c._IE_enable=function(b){document.addEventListener("MSPointerDown",function(a){c._IE_handleEvent(b,a)},!1);window.addEventListener("MSPointerMove",function(a){c._IE_handleEvent(b,a)},!1);window.addEventListener("MSPointerUp",function(a){c._IE_handleEvent(b,a)},!1);window.addEventListener("MSPointerCancel",function(a){c._IE_handleEvent(b,a)},!1);b.__touch.preventDefault&&(b.canvas.style.msTouchAction="none");b.__touch.activeIDs={}};c._IE_handleEvent=function(b,
a){b.__touch.preventDefault&&a.preventDefault&&a.preventDefault();var c=a.type,h=a.pointerId,d=b.__touch.activeIDs;if("MSPointerDown"==c)d[h]=!0,this._handleStart(b,h,a,a.pageX,a.pageY);else if(d[h])if("MSPointerMove"==c)this._handleMove(b,h,a,a.pageX,a.pageY);else if("MSPointerUp"==c||"MSPointerCancel"==c)delete d[h],this._handleEnd(b,h,a)};c._handleStart=function(b,a,c,h,d){var e=b.__touch;if(e.multitouch||!e.count){var f=e.pointers;f[a]||(f[a]=!0,e.count++,b._handlePointerDown(a,c,h,d))}};c._handleMove=
function(b,a,c,h,d){b.__touch.pointers[a]&&b._handlePointerMove(a,c,h,d)};c._handleEnd=function(b,a,c){var h=b.__touch,d=h.pointers;d[a]&&(h.count--,b._handlePointerUp(a,c,!0),delete d[a])};createjs.Touch=c})();this.createjs=this.createjs||{};
(function(){createjs.Keyboard={BACKSPACE:8,CAPS_LOCK:20,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F1:112,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,HOME:36,INSERT:45,LEFT:37,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,
RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,"0":48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90}})();
